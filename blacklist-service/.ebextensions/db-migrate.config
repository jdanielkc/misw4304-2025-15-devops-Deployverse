container_commands:
  01_migrate:
    command: "python -c \"
print('=== INICIANDO MIGRACIÓN ===');
from application import application; 
from src.database import db; 
print('Aplicación creada:', application);
print('Base de datos URI:', application.config.get('SQLALCHEMY_DATABASE_URI'));
app_context = application.app_context(); 
app_context.push(); 
print('Contexto de aplicación activado');
try:
    db.create_all(); 
    print('✅ Tablas creadas exitosamente');
except Exception as e:
    print('❌ Error creando tablas:', str(e));
    raise;
finally:
    app_context.pop();
    print('=== MIGRACIÓN COMPLETADA ===');
\""
    leader_only: true